---
interface Props {
    title: string;
    description: string;
    duration?: string;
    participants?: string;
    image?: string;
    color?: string; // Optional accent color class
}

const {
    title,
    description,
    duration,
    participants,
    image,
    color = "bg-primary",
} = Astro.props;
---

<div
    class="group relative bg-surface rounded-xl shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 overflow-hidden border border-stone-200 flex flex-col h-full"
>
    <!-- Image Area -->
    <div class={`h-64 w-full ${color} relative overflow-hidden`}>
        {
            image ? (
                <img
                    src={image}
                    alt={title}
                    class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
                />
            ) : (
                <div class="absolute inset-0 flex items-center justify-center text-white/30">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-24 w-24"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="1.5"
                            d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                        />
                    </svg>
                </div>
            )
        }

        <!-- Badges (Floating) -->
        <div
            class="absolute bottom-4 left-4 flex flex-wrap gap-2 pointer-events-none"
        >
            {
                duration && (
                    <span class="px-3 py-1 bg-white/95 backdrop-blur-sm text-xs font-bold tracking-wide rounded-full text-stone-700 shadow-md border border-white/20">
                        {duration}
                    </span>
                )
            }
            {
                participants && (
                    <span class="px-3 py-1 bg-white/95 backdrop-blur-sm text-xs font-bold tracking-wide rounded-full text-stone-700 shadow-md border border-white/20">
                        {participants}
                    </span>
                )
            }
        </div>
    </div>

    <div class="p-8 flex flex-col flex-grow">
        <h3
            class="font-heading text-2xl md:text-3xl font-bold text-primary mb-3 group-hover:text-accent transition-colors duration-300"
        >
            {title}
        </h3>
        <p
            class="text-stone-600 mb-8 flex-grow leading-relaxed font-light text-lg"
        >
            {description}
        </p>

        <a
            href="#contact"
            class="inline-flex items-center text-primary font-bold tracking-wide uppercase text-sm hover:text-accent group/link transition-colors mt-auto border-b-2 border-primary/20 hover:border-accent pb-1 w-fit"
        >
            DÃ©couvrir l'atelier
            <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-4 w-4 ml-2 transition-transform group-hover/link:translate-x-1"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
        </a>
    </div>
</div>
