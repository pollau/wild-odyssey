---
const locale = Astro.currentLocale || 'fr';

const content = {
    fr: {
        title: "Plongez au cœur de l'Océan",
        subtitle: "Scrollez pour découvrir ce que nous protégeons",
        cta_title: "Prêt à remonter à la surface ?",
        cta_desc: "Comprendre l'Océan, c'est le premier pas pour le sauver. Organisez une Fresque Océane ou une Marche de l'Océan.",
        cta_btn: "Agir maintenant",
        depths: [
            { level: 0, title: "La Surface", desc: "Là où tout commence. La lumière pénètre encore, la vie foisonne.", label: "Surface" },
            { level: 100, title: "Zone Épipélagique (-100m)", desc: "Le phytoplancton produit 50% de notre oxygène. C'est le poumon bleu de la planète.", label: "-100m" },
            { level: 500, title: "Zone Mésopélagique (-500m)", desc: "La lumière se raréfie. Ici nagent les créatures mystérieuses et... malheureusement, nos déchets plastiques.", label: "-500m" },
            { level: 1000, title: "Les Abysses (-1000m+)", desc: "L'obscurité totale. Pourtant, la vie s'adapte. C'est ici que se joue le futur du stockage carbone.", label: "-1000m" }
        ]
    },
    en: {
        title: "Dive into the Heart of the Ocean",
        subtitle: "Scroll to discover what we protect",
        cta_title: "Ready to surface?",
        cta_desc: "Understanding the Ocean is the first step to saving it. Organize an Ocean Collage or an Ocean Walk.",
        cta_btn: "Act Now",
        depths: [
            { level: 0, title: "The Surface", desc: "Where it all begins. Light still penetrates, life abounds.", label: "Surface" },
            { level: 100, title: "Epipelagic Zone (-100m)", desc: "Phytoplankton produce 50% of our oxygen. It is the blue lung of the planet.", label: "-100m" },
            { level: 500, title: "Mesopelagic Zone (-500m)", desc: "Light becomes scarce. Here swim mysterious creatures and... unfortunately, our plastic waste.", label: "-500m" },
            { level: 1000, title: "The Abyss (-1000m+)", desc: "Total darkness. Yet life adapts. This is where the future of carbon storage plays out.", label: "-1000m" }
        ]
    },
    es: {
        title: "Sumérgete en el Corazón del Océano",
        subtitle: "Desplázate para descubrir lo que protegemos",
        cta_title: "¿Listo para salir a la superficie?",
        cta_desc: "Comprender el Océano es el primer paso para salvarlo. Organiza un Mural del Océano o una Marcha del Océano.",
        cta_btn: "Actuar Ahora",
        depths: [
            { level: 0, title: "La Superficie", desc: "Donde todo comienza. La luz aún penetra, la vida abunda.", label: "Superficie" },
            { level: 100, title: "Zona Epipelágica (-100m)", desc: "El fitoplancton produce el 50% de nuestro oxígeno. Es el pulmón azul del planeta.", label: "-100m" },
            { level: 500, title: "Zona Mesopelágica (-500m)", desc: "La luz escasea. Aquí nadan criaturas misteriosas y... desafortunadamente, nuestros residuos plásticos.", label: "-500m" },
            { level: 1000, title: "Los Abismos (-1000m+)", desc: "Oscuridad total. Sin embargo, la vida se adapta. Aquí es donde se juega el futuro del almacenamiento de carbono.", label: "-1000m" }
        ]
    }
};

const t = content[locale];
const depths = t.depths;
---

<section id="deep-dive" class="relative w-full overflow-hidden">
    <!-- Background Gradient representing depth -->
    <div class="absolute inset-0 z-0 bg-gradient-to-b from-[#4facfe] via-[#00f2fe] to-[#011242] h-full w-full"></div>
    <div class="absolute inset-0 z-0 bg-gradient-to-b from-transparent via-[#002888] to-black opacity-90"></div>

    <div class="relative z-10 max-w-4xl mx-auto px-6 py-24 pb-48 flex flex-col items-center">
        
        <div class="text-center mb-12 text-white">
            <h2 class="font-heading text-4xl font-bold mb-4">{t.title}</h2>
            <p class="text-xl opacity-90">{t.subtitle}</p>
            <div class="mt-8 animate-bounce">
                <svg class="w-8 h-8 text-white mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7-7-7m14-8l-7 7-7-7" />
                </svg>
            </div>
        </div>

        <!-- Timeline / Depth Line -->
        <div class="relative border-l-2 border-white/20 ml-4 md:ml-0 space-y-48 md:space-y-64 py-12">
            
            {depths.map((depth, index) => (
                <div class="relative pl-12 md:pl-0 md:flex md:items-center md:justify-center group">
                    <!-- Depth Marker -->
                    <div class="absolute left-[-9px] md:left-1/2 md:-translate-x-1/2 w-4 h-4 bg-white rounded-full border-4 border-blue-500 shadow-[0_0_15px_rgba(255,255,255,0.5)] z-20 transition-transform group-hover:scale-150"></div>
                    
                    <!-- Content Card -->
                    <div class={`md:w-5/12 ${index % 2 === 0 ? 'md:pr-16 md:text-right md:ml-auto' : 'md:pl-16 md:mr-auto'} transition-all duration-700 opacity-80 group-hover:opacity-100 transform group-hover:-translate-y-2`}>
                        <span class="inline-block px-3 py-1 rounded-full bg-white/10 backdrop-blur-md text-white border border-white/20 text-sm font-bold mb-2">
                            {depth.label}
                        </span>
                        <h3 class={`text-2xl font-bold mb-2 text-white`}>{depth.title}</h3>
                        <p class="text-white/80 text-lg leading-relaxed">
                            {depth.desc}
                        </p>
                    </div>
                </div>
            ))}

        </div>

        <!-- CTA at local bottom -->
        <div class="text-center mt-32">
            <h3 class="text-3xl font-bold text-white mb-6">{t.cta_title}</h3>
            <p class="text-white/80 mb-8 max-w-xl mx-auto">{t.cta_desc}</p>
            <a href="#contact" class="inline-block bg-white text-blue-900 font-bold py-4 px-10 rounded-full shadow-[0_0_20px_rgba(255,255,255,0.3)] hover:shadow-[0_0_30px_rgba(255,255,255,0.6)] transform hover:scale-105 transition-all">
                {t.cta_btn}
            </a>
        </div>

    </div>

    <!-- Parallax Floating Elements (Bubbles/Fish - CSS Shapes) -->
    <div class="absolute top-1/4 left-10 w-12 h-12 bg-white/5 rounded-full blur-sm animate-pulse"></div>
    <div class="absolute top-1/3 right-20 w-8 h-8 bg-white/10 rounded-full blur-md animate-bounce" style="animation-duration: 3s;"></div>
    <div class="absolute bottom-1/4 left-1/3 w-24 h-24 bg-blue-500/10 rounded-full blur-xl"></div>
</section>
