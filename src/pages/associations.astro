---
import Layout from "../layouts/Layout.astro";
import ActivityCard from "../components/ActivityCard.astro";
import { getCollection } from "astro:content";

// Filter activities for associations
const allActivities = await getCollection("activities");
const assocActivities = allActivities.filter((activity) =>
    activity.data.audience?.includes("associations"),
);
---

<Layout title="Associations & Tiers-Lieux" headerTransparent={true}>
    <main class="min-h-screen bg-background">
        <!-- Hero Header -->
        <section
            class="relative h-[50vh] min-h-[400px] flex items-center justify-center overflow-hidden"
        >
            <div class="absolute inset-0 z-0">
                <img
                    src="/assets/images/hero-new.jpg"
                    alt="Wild Odyssey Associations"
                    class="w-full h-full object-cover"
                />
                <div
                    class="absolute inset-0 bg-emerald-900/80 mix-blend-multiply"
                >
                </div>
            </div>
            <div
                class="relative z-10 text-center px-4 max-w-4xl mx-auto text-white"
            >
                <h1 class="font-heading text-4xl md:text-6xl font-bold mb-4">
                    Associations
                </h1>
                <p
                    class="text-xl md:text-2xl font-light opacity-90 max-w-2xl mx-auto"
                >
                    Animer vos communautés et sensibiliser vos bénévoles.
                </p>
            </div>
        </section>

        <!-- Content Grid -->
        <section class="max-w-6xl mx-auto px-4 py-24">
            <div
                class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8 lg:gap-12"
            >
                {
                    assocActivities.map((activity) => (
                        <ActivityCard
                            title={activity.data.title}
                            description={activity.data.description}
                            duration={activity.data.duration}
                            participants={activity.data.participants}
                            color={activity.data.color}
                            image={activity.data.image}
                        />
                    ))
                }
            </div>
        </section>
    </main>
</Layout>
