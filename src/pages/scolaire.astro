---
import Layout from "../layouts/Layout.astro";
import ActivityCard from "../components/ActivityCard.astro";
import { getCollection } from "astro:content";

const allActivities = await getCollection("activities");
const schoolActivities = allActivities.filter((activity) =>
    activity.data.audience?.includes("school"),
);
---

<Layout title="Pour les Écoles" headerTransparent={true}>
    <main class="min-h-screen bg-background">
        <!-- Hero Header -->
        <section
            class="relative h-[50vh] min-h-[400px] flex items-center justify-center overflow-hidden"
        >
            <div class="absolute inset-0 z-0">
                <img
                    src="/assets/images/hero-new.jpg"
                    alt="Wild Odyssey Ecoles"
                    class="w-full h-full object-cover opacity-90"
                />
                <div
                    class="absolute inset-0 bg-gradient-to-b from-black/60 to-primary/90 mix-blend-multiply"
                >
                </div>
            </div>
            <div
                class="relative z-10 text-center px-4 max-w-4xl mx-auto text-white"
            >
                <h1 class="font-heading text-4xl md:text-6xl font-bold mb-4">
                    Pour les Écoles
                </h1>
                <p
                    class="text-xl md:text-2xl font-light opacity-90 max-w-2xl mx-auto"
                >
                    Éveiller la curiosité et former les éco-citoyens de demain.
                </p>
            </div>
        </section>

        <!-- Content Grid -->
        <section class="max-w-6xl mx-auto px-4 py-24">
            <div class="text-center mb-12">
                <span
                    class="text-secondary font-semibold tracking-wider uppercase text-sm"
                    >Pédagogie Active</span
                >
                <p
                    class="mt-4 text-gray-600 max-w-3xl mx-auto text-lg leading-relaxed"
                >
                    Nos ateliers sont conçus pour s'intégrer aux programmes
                    scolaires (SVT, Géographie, EMC) et favoriser
                    l'apprentissage par l'expérience.
                </p>
            </div>

            <div
                class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8 lg:gap-12"
            >
                {
                    schoolActivities.map((activity) => (
                        <ActivityCard
                            title={activity.data.title}
                            description={activity.data.description}
                            duration={activity.data.duration}
                            participants={activity.data.participants}
                            color={activity.data.color}
                            image={activity.data.image}
                        />
                    ))
                }
            </div>
        </section>
    </main>
</Layout>
